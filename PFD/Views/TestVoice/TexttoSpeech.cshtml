<input type="text" id="textToSpeak" placeholder="Enter text to speak">
<button onclick="speak()">Speak</button>

<label for="voices">Select a voice:</label>
<select id="voices" onchange="changeVoice()">
</select>

<script>
    function speak() {
        console.log("speak");
        const textToSpeak = document.getElementById('textToSpeak').value;

        if ('speechSynthesis' in window) {
            const synth = window.speechSynthesis;
            const utterance = new SpeechSynthesisUtterance(textToSpeak);

            // Get available voices
            const voices = synth.getVoices();

            // Set the voice (you can change the index to select a different voice)
            utterance.voice = voices[0];

            // Optional: Set other parameters
            // utterance.rate = 1.0;
            // utterance.pitch = 1.0;

            synth.speak(utterance);
        } else {
            alert("Sorry, your browser doesn't support the Web Speech API.");
        }
    }

    function changeVoice() {
        console.log("changeVoice");
        const voiceSelect = document.getElementById('voices');
        const selectedVoiceIndex = voiceSelect.selectedIndex;

        if ('speechSynthesis' in window) {
            const synth = window.speechSynthesis;
            const voices = synth.getVoices();

            if (selectedVoiceIndex >= 0 && selectedVoiceIndex < voices.length) {
                const selectedVoice = voices[selectedVoiceIndex];
                alert(`Selected voice: ${selectedVoice.name}`);
            }
        }
    }
</script>

<script>
    // Populate the voices dropdown when the page loads
    window.onload = function () {
        console.log("Fucking here");
        const voiceSelect = document.getElementById('voices');
        const synth = window.speechSynthesis;
        const voices = synth.getVoices();

        voices.forEach((voice, index) => {
            const option = document.createElement('option');
            option.value = index;
            option.textContent = voice.name;
            voiceSelect.appendChild(option);
        });
    };
</script>